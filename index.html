<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Curl-ftp-with-php by thien321091</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Curl-ftp-with-php</h1>
      <h2 class="project-tagline">Download file from ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, </h2>
      <a href="https://github.com/thien321091/Curl-FTP-with-php" class="btn">View on GitHub</a>
      <a href="https://github.com/thien321091/Curl-FTP-with-php/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/thien321091/Curl-FTP-with-php/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="curl-ftp-with-php" class="anchor" href="#curl-ftp-with-php" aria-hidden="true"><span class="octicon octicon-link"></span></a>Curl-FTP-with-php</h3>

<p>Download, upload file to ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, </p>

<h2>
<a id="with-magento-project" class="anchor" href="#with-magento-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>With Magento project</h2>

<p><strong>Copy file and folder to project</strong> 
goto shell and run cmd
<br>1: Xampp --&gt; Shell commander
<br>2: order --&gt; Run command line with what you know. </p>

<p><br><code> php -f ftp_download.php --host "ftp.yourhost.com" --user "ussername" --pw "password" --sr "/" --dest "/" </code></p>

<p>More option Usage:  </p>

<pre>
php ftp_download.php -- [options]
--host          Ftp host (required)
  --port          Ftp Port (Default 21)
  --user          Ftp Username          (default anonymous)
  --pwd           Ftp Password.  (default empty)
  --ssl           Default false (true/false)
  --fm            Default FTP_BINARY
  --timeout       Default 60
  --upload        Upload all file from src to dest. Default false
  --src           Download from folder.     (required)
  --dest          Folder save to.      (required)
help                   This help
</pre>

<p><strong>With order project php</strong> Use class <strong>Mage_Dataflow_Model_Convert_Adapter_Extend_Curl</strong>;</p>

<pre>
$connect = array(
                'host' =&gt; $host,
                'port' =&gt; $port,
                'user' =&gt; $user,      
                'password' =&gt; $password,  
                'ssl' =&gt; $ssl,        // default false 
                'file_mode' =&gt; $filemode, // default FTP_BINARY
                'timeout' =&gt; $timeout,
            );
            if($sourceFolder &amp;&amp; $destFolder){
        $CurlFtp = new Mage_Dataflow_Model_Convert_Adapter_Extend_Curl($connect);
                $lsDir = $CurlFtp-&gt;getListDir($sourceFolder);
                if(!is_dir($destFolder)){
                    mkdir($dest,'0777',true);
                }
                if(isset($lsDir['file'])){
                    $i = 0;
                    foreach($lsDir['file'] as $key =&gt; $file){
                        if($i == 4) break;
                        echo "Downloading: $file \r\n";
                        if($this-&gt;_getFtp()-&gt;curlGetFile($sourceFolder.DS.$file,$destFolder.'/'.$file, false)){
                            echo "Download successful File: $file \r\n";
                        }
                    }
                }else{
                    echo "Doesn't exists any file in folder";
                }
            }
</pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/thien321091/Curl-FTP-with-php">Curl-ftp-with-php</a> is maintained by <a href="https://github.com/thien321091">thien321091</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-56659001-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

