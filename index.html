<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Curl-ftp-with-php by thien321091</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Curl-ftp-with-php</h1>
      <h2 class="project-tagline">Download file from ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, </h2>
      <a href="https://github.com/thien321091/Curl-FTP-with-php" class="btn">View on GitHub</a>
      <a href="https://github.com/thien321091/Curl-FTP-with-php/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/thien321091/Curl-FTP-with-php/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="curl-ftp-with-php" class="anchor" href="#curl-ftp-with-php" aria-hidden="true"><span class="octicon octicon-link"></span></a>Curl-FTP-with-php</h3>

<p>Download, upload file to ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, </p>

<h2>
<a id="with-magento-project" class="anchor" href="#with-magento-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>With Magento project</h2>

<p><strong>Copy file and folder to project</strong> 
goto shell and run cmd
<br>1: Xampp --&gt; Shell commander
<br>2: order --&gt; Run command line with what you know. </p>

<p><br><code> php -f ftp_download.php --host "ftp.yourhost.com" --user "ussername" --pw "password" --sr "/" --dest "/" </code></p>

<p>More option Usage:  </p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">php</span> <span class="pl-c1">ftp_download</span><span class="pl-k">.</span><span class="pl-c1">php</span> <span class="pl-k">--</span> [<span class="pl-c1">options</span>]</span>
<span class="pl-s1"><span class="pl-k">--</span><span class="pl-c1">host</span>          <span class="pl-c1">Ftp</span> host (<span class="pl-c1">required</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">port</span>          <span class="pl-c1">Ftp</span> Port (<span class="pl-c1">Default</span> <span class="pl-c1">21</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">user</span>          <span class="pl-c1">Ftp</span> Username          (<span class="pl-k">default</span> <span class="pl-c1">anonymous</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">pwd</span>           <span class="pl-c1">Ftp</span> <span class="pl-c1">Password</span><span class="pl-k">.</span>  (<span class="pl-k">default</span> <span class="pl-c1">empty</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">ssl</span>           <span class="pl-c1">Default</span> false (<span class="pl-c1">true</span><span class="pl-k">/</span><span class="pl-c1">false</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">fm</span>            <span class="pl-c1">Default</span> <span class="pl-c1">FTP_BINARY</span></span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">timeout</span>       <span class="pl-c1">Default</span> <span class="pl-c1">60</span></span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">upload</span>        <span class="pl-c1">Upload</span> <span class="pl-c1">all</span> <span class="pl-c1">file</span> <span class="pl-c1">from</span> <span class="pl-c1">src</span> <span class="pl-c1">to</span> <span class="pl-c1">dest</span><span class="pl-k">.</span> <span class="pl-c1">Default</span> <span class="pl-c1">false</span></span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">src</span>           <span class="pl-c1">Download</span> <span class="pl-c1">from</span> <span class="pl-c1">folder</span><span class="pl-k">.</span>     (<span class="pl-c1">required</span>)</span>
<span class="pl-s1">  <span class="pl-k">--</span><span class="pl-c1">dest</span>          <span class="pl-c1">Folder</span> <span class="pl-c1">save</span> <span class="pl-c1">to</span><span class="pl-k">.</span>      (<span class="pl-c1">required</span>)</span>
<span class="pl-s1"><span class="pl-c1">help</span>                   <span class="pl-c1">This</span> <span class="pl-c1">help</span></span></pre></div>

<p><strong>With order project php</strong> Use class <strong>Mage_Dataflow_Model_Convert_Adapter_Extend_Curl</strong>;</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$connect</span> <span class="pl-k">=</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>host<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$host</span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>port<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$port</span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$user</span>,      </span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$password</span>,  </span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>ssl<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$ssl</span>,        <span class="pl-c">// default false </span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>file_mode<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$filemode</span>, <span class="pl-c">// default FTP_BINARY</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>timeout<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$timeout</span>,</span>
<span class="pl-s1">            );</span>
<span class="pl-s1">            <span class="pl-k">if</span>(<span class="pl-smi">$sourceFolder</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$destFolder</span>){</span>
<span class="pl-s1">        <span class="pl-smi">$CurlFtp</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Mage_Dataflow_Model_Convert_Adapter_Extend_Curl</span>(<span class="pl-smi">$connect</span>);</span>
<span class="pl-s1">                <span class="pl-smi">$lsDir</span> <span class="pl-k">=</span> <span class="pl-smi">$CurlFtp</span><span class="pl-k">-&gt;</span>getListDir(<span class="pl-smi">$sourceFolder</span>);</span>
<span class="pl-s1">                <span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-c1">is_dir</span>(<span class="pl-smi">$destFolder</span>)){</span>
<span class="pl-s1">                    <span class="pl-c1">mkdir</span>(<span class="pl-smi">$dest</span>,<span class="pl-s"><span class="pl-pds">'</span>0777<span class="pl-pds">'</span></span>,<span class="pl-c1">true</span>);</span>
<span class="pl-s1">                }</span>
<span class="pl-s1">                <span class="pl-k">if</span>(<span class="pl-c1">isset</span>(<span class="pl-smi">$lsDir</span>[<span class="pl-s"><span class="pl-pds">'</span>file<span class="pl-pds">'</span></span>])){</span>
<span class="pl-s1">                    <span class="pl-smi">$i</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>;</span>
<span class="pl-s1">                    <span class="pl-k">foreach</span>(<span class="pl-smi">$lsDir</span>[<span class="pl-s"><span class="pl-pds">'</span>file<span class="pl-pds">'</span></span>] <span class="pl-k">as</span> <span class="pl-smi">$key</span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$file</span>){</span>
<span class="pl-s1">                        <span class="pl-k">if</span>(<span class="pl-smi">$i</span> <span class="pl-k">==</span> <span class="pl-c1">4</span>) <span class="pl-k">break</span>;</span>
<span class="pl-s1">                        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Downloading: <span class="pl-smi">$file</span> <span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>;</span>
<span class="pl-s1">                        <span class="pl-k">if</span>(<span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>_getFtp()<span class="pl-k">-&gt;</span>curlGetFile(<span class="pl-smi">$sourceFolder</span><span class="pl-k">.</span><span class="pl-c1">DS</span><span class="pl-k">.</span><span class="pl-smi">$file</span>,<span class="pl-smi">$destFolder</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span><span class="pl-k">.</span><span class="pl-smi">$file</span>, <span class="pl-c1">false</span>)){</span>
<span class="pl-s1">                            <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Download successful File: <span class="pl-smi">$file</span> <span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                    }</span>
<span class="pl-s1">                }<span class="pl-k">else</span>{</span>
<span class="pl-s1">                    <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Doesn't exists any file in folder<span class="pl-pds">"</span></span>;</span>
<span class="pl-s1">                }</span>
<span class="pl-s1">            }</span></pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/thien321091/Curl-FTP-with-php">Curl-ftp-with-php</a> is maintained by <a href="https://github.com/thien321091">thien321091</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-56659001-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

