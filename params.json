{"name":"Curl-ftp-with-php","tagline":"Download file from ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, ","body":"### Curl-FTP-with-php\r\nDownload, upload file to ftp with php without timeout, file large, curl ftp download file, upload file to ftp, list file from ftp with curl, \r\n\r\n<h2>With Magento project</h2>\r\n**Copy file and folder to project** \r\ngoto shell and run cmd\r\n<br/>1: Xampp --> Shell commander\r\n<br/>2: order --> Run command line with what you know. \r\n\r\n<br/><code> php -f ftp_download.php --host \"ftp.yourhost.com\" --user \"ussername\" --pw \"password\" --sr \"/\" --dest \"/\" </code>\r\n\r\nMore option Usage:  \r\n<pre>\r\nphp ftp_download.php -- [options]\r\n--host    [value]      Ftp host connection. (required)\t\t\r\n--hp      [value]      Ftp Port connection. (Default 21)\t\r\n--user    [value]      User login.          (default anonymou)\t\r\n--pw      [value]      Password login ftp.  (default empty)\t\r\n--ssl     [value]      Default false (true/false)\t\t\r\n--fm      [value]      Default FTP_BINARY\t\t\t\r\n--upload  <value>      Upload all file from src to dest. Default false\r\n--timeout [value]      Default 60\t\t\t\t\r\n--sr      [value]      Folder download.     (required)\t\t\r\n--dest    [value]      Folder save to.      (required)\t\r\nhelp                   This help\r\n</pre>\r\n\r\n**With order project php** Use class **Mage_Dataflow_Model_Convert_Adapter_Extend_Curl**;\r\n<pre>\r\n$connect = array(\r\n                'host' => $host,\r\n                'port' => $port,\r\n                'user' => $user,\t  \r\n                'password' => $password,  \r\n                'ssl' => $ssl,\t\t  // default false \r\n                'file_mode' => $filemode, // default FTP_BINARY\r\n                'timeout' => $timeout,\r\n            );\r\n            if($sourceFolder && $destFolder){\r\n\t\t$CurlFtp = new Mage_Dataflow_Model_Convert_Adapter_Extend_Curl($connect);\r\n                $lsDir = $CurlFtp->getListDir($sourceFolder);\r\n                if(!is_dir($destFolder)){\r\n                    mkdir($dest,'0777',true);\r\n                }\r\n                if(isset($lsDir['file'])){\r\n                    $i = 0;\r\n                    foreach($lsDir['file'] as $key => $file){\r\n                        if($i == 4) break;\r\n                        echo \"Downloading: $file \\r\\n\";\r\n                        if($this->_getFtp()->curlGetFile($sourceFolder.DS.$file,$destFolder.'/'.$file, false)){\r\n                            echo \"Download successful File: $file \\r\\n\";\r\n                        }\r\n                    }\r\n                }else{\r\n                    echo \"Doesn't exists any file in folder\";\r\n                }\r\n            }\r\n</pre>\r\n\r\n","google":"UA-56659001-6","note":"Don't delete this file! It's used internally to help with page regeneration."}